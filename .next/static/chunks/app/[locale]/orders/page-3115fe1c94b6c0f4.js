(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{341:(e,s,r)=>{Promise.resolve().then(r.bind(r,9231))},1847:(e,s,r)=>{"use strict";r.d(s,{A:()=>i});var t=r(2115);let a=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,t.forwardRef)((e,s)=>{let{color:r="currentColor",size:c=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:o="",children:d,iconNode:m,...x}=e;return(0,t.createElement)("svg",{ref:s,...l,width:c,height:c,stroke:r,strokeWidth:n?24*Number(i)/Number(c):i,className:a("lucide",o),...x},[...m.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(d)?d:[d]])}),i=(e,s)=>{let r=(0,t.forwardRef)((r,l)=>{let{className:i,...n}=r;return(0,t.createElement)(c,{ref:l,iconNode:s,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...n})});return r.displayName="".concat(e),r}},1873:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2529:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5016:(e,s,r)=>{"use strict";function t(e){let s="string"==typeof e?new Date(e):e,r=Math.floor((new Date().getTime()-s.getTime())/1e3);if(r<60)return"".concat(r," секунд назад");let t=Math.floor(r/60);if(t<60)return"".concat(t," минут назад");let a=Math.floor(t/60);if(a<24)return"".concat(a," ч. назад");let l=Math.floor(a/24);return"".concat(l," дн. назад")}r.d(s,{a:()=>t})},6983:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7828:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8525:(e,s,r)=>{"use strict";r.d(s,{U:()=>a});var t=r(5890);function a(){let e="https://rdlrzuyqbtxcszzcdtge.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJkbHJ6dXlxYnR4Y3N6emNkdGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1ODE5OTMsImV4cCI6MjA4MjE1Nzk5M30.xqYNOx2JD1vQrrEob6HYJlOm5w82oMi3Hv604QLgWGY";if(!e||!s)return console.error("Supabase environment variables not configured. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY"),(0,t.createBrowserClient)(e||"https://placeholder.supabase.co",s||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0");try{return(0,t.createBrowserClient)(e,s)}catch(e){return console.error("Error creating Supabase client:",e),(0,t.createBrowserClient)("https://placeholder.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0")}}},9231:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var t=r(5155),a=r(2115),l=r(5604),c=r(8525),i=r(2619),n=r.n(i),o=r(7828),d=r(6983),m=r(1873),x=r(2529),h=r(5016);function p(){let e=(0,l.useTranslations)("common"),s=(0,l.useLocale)(),[r,i]=(0,a.useState)([]),[p,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{N()},[]);let N=async()=>{try{let e=(0,c.U)(),{data:{user:s}}=await e.auth.getUser();if(!s)return void u(!1);let{data:r,error:t}=await e.from("orders").select("*, category:categories(name_ru)").eq("customer_id",s.id).in("status",["open","in_progress","completed"]).order("created_at",{ascending:!1});t?console.error("Error loading orders:",t):i(r||[])}catch(e){console.warn("Supabase not configured:",e)}finally{u(!1)}};return p?(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsx)("p",{children:"Загрузка..."})}):(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-3",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:e("allOrders")}),(0,t.jsx)("div",{className:"space-y-4",children:r.map(r=>(0,t.jsx)(n(),{href:"/".concat(s,"/orders/").concat(r.id),className:"card hover:shadow-md transition-shadow block",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),(0,t.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-2",children:r.description}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(o.A,{className:"w-4 h-4"}),r.budget?"".concat(r.budget,"€"):e("notSpecified")]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(d.A,{className:"w-4 h-4"}),(0,h.a)(r.created_at)]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.A,{className:"w-4 h-4"}),r.location]})]})]}),(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[(0,t.jsx)(x.A,{className:"w-4 h-4"}),e("open")]})})]})},r.id))}),0===r.length&&(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Нет открытых заказов"})})]}),(0,t.jsxs)("div",{className:"lg:col-span-1",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h2",{className:"font-semibold text-gray-900 mb-4",children:e("categories")}),(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",className:"text-sm text-gray-600 hover:text-primary",children:"Транспортные услуги"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",className:"text-sm text-gray-600 hover:text-primary",children:"Переезды"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",className:"text-sm text-gray-600 hover:text-primary",children:"Грузчики"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"#",className:"text-sm text-primary font-medium",children:e("allOrders")})})]})]}),(0,t.jsxs)("div",{className:"card mt-6",children:[(0,t.jsx)("h2",{className:"font-semibold text-gray-900 mb-4",children:e("location")}),(0,t.jsx)("input",{type:"text",className:"input mb-4",placeholder:"Укажите город, район..."}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",className:"w-full"})]})]})]})})}}},e=>{e.O(0,[223,890,619,441,255,358],()=>e(e.s=341)),_N_E=e.O()}]);