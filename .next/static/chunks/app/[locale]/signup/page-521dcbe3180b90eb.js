(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{6498:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var l=t(5155),a=t(2115),r=t(5604),i=t(8525),n=t(63),c=t(2619),d=t.n(c);function o(){let e=(0,r.useTranslations)("common"),s=(0,r.useLocale)();(0,n.useRouter)();let t=(0,i.U)(),[c,o]=(0,a.useState)(""),[m,u]=(0,a.useState)(""),[x,h]=(0,a.useState)(""),[p,b]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null),[g,v]=(0,a.useState)(!1),y=async e=>{e.preventDefault(),b(!0),N(null);try{let{error:e}=await t.auth.signUp({email:c,password:m,options:{data:{full_name:x},emailRedirectTo:"".concat(window.location.origin,"/").concat(s,"/auth/callback")}});e?(N(e.message),b(!1)):v(!0)}catch(e){N((null==e?void 0:e.message)||"Произошла ошибка. Проверьте подключение к интернету."),b(!1)}},I=async()=>{b(!0),N(null);try{let{error:e}=await t.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/").concat(s,"/auth/callback")}});e&&(N(e.message),b(!1))}catch(e){N((null==e?void 0:e.message)||"Произошла ошибка. Проверьте подключение к интернету."),b(!1)}};return g?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"max-w-md w-full text-center",children:(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:[(0,l.jsx)("p",{className:"font-medium",children:"Проверьте вашу почту!"}),(0,l.jsxs)("p",{className:"text-sm mt-2",children:["Мы отправили ссылку для подтверждения на ",c]})]})})}):(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,l.jsx)("div",{children:(0,l.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:e("signup")})}),(0,l.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:y,children:[j&&(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:j}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Имя"}),(0,l.jsx)("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:x,onChange:e=>h(e.target.value),className:"input mt-1",placeholder:"Ваше имя"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,l.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:c,onChange:e=>o(e.target.value),className:"input mt-1",placeholder:"your@email.com"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Пароль"}),(0,l.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:m,onChange:e=>u(e.target.value),className:"input mt-1",placeholder:"Минимум 6 символов",minLength:6})]})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"submit",disabled:p,className:"btn-primary w-full",children:p?"Загрузка...":e("signup")})}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,l.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,l.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,l.jsx)("span",{className:"px-2 bg-gray-50 text-gray-500",children:"или"})})]}),(0,l.jsx)("div",{children:(0,l.jsxs)("button",{type:"button",onClick:I,disabled:p,className:"btn-outline w-full flex items-center justify-center gap-2",children:[(0,l.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Зарегистрироваться через Google"]})}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)(d(),{href:"/".concat(s,"/login"),className:"text-primary hover:text-primary-dark font-medium",children:"Уже есть аккаунт? Войти"})})]})]})})}},7732:(e,s,t)=>{Promise.resolve().then(t.bind(t,6498))},8525:(e,s,t)=>{"use strict";t.d(s,{U:()=>a});var l=t(5890);function a(){let e="https://rdlrzuyqbtxcszzcdtge.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJkbHJ6dXlxYnR4Y3N6emNkdGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1ODE5OTMsImV4cCI6MjA4MjE1Nzk5M30.xqYNOx2JD1vQrrEob6HYJlOm5w82oMi3Hv604QLgWGY";if(!e||!s)return console.error("Supabase environment variables not configured. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY"),(0,l.createBrowserClient)(e||"https://placeholder.supabase.co",s||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0");try{return(0,l.createBrowserClient)(e,s)}catch(e){return console.error("Error creating Supabase client:",e),(0,l.createBrowserClient)("https://placeholder.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0")}}}},e=>{e.O(0,[223,890,619,441,255,358],()=>e(e.s=7732)),_N_E=e.O()}]);