(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[390],{1847:(e,r,a)=>{"use strict";a.d(r,{A:()=>o});var t=a(2115);let s=function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return r.filter((e,r,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===r).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)((e,r)=>{let{color:a="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:c="",children:m,iconNode:p,...d}=e;return(0,t.createElement)("svg",{ref:r,...i,width:l,height:l,stroke:a,strokeWidth:n?24*Number(o)/Number(l):o,className:s("lucide",c),...d},[...p.map(e=>{let[r,a]=e;return(0,t.createElement)(r,a)}),...Array.isArray(m)?m:[m]])}),o=(e,r)=>{let a=(0,t.forwardRef)((a,i)=>{let{className:o,...n}=a;return(0,t.createElement)(l,{ref:i,iconNode:r,className:s("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),o),...n})});return a.displayName="".concat(e),a}},1956:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>c});var t=a(5155),s=a(2115),i=a(5604),l=a(8525),o=a(63);let n=(0,a(1847).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function c(){(0,i.useTranslations)("common");let e=(0,i.useLocale)(),r=(0,o.useRouter)(),a=(0,l.U)(),[c,m]=(0,s.useState)(!0),[p,d]=(0,s.useState)(!1),[u,x]=(0,s.useState)({company_name:"",description:"",price_per_hour:0,work_examples:[],performer_id:""});(0,s.useEffect)(()=>{h()},[]);let h=async()=>{let{data:{user:t}}=await a.auth.getUser();if(!t)return void r.push("/".concat(e,"/login"));await a.from("profiles").update({role:"performer"}).eq("id",t.id);let{data:s,error:i}=await a.from("performer_profiles").select("*").eq("performer_id",t.id).single();s?x({...s,performer_id:t.id}):x({...u,performer_id:t.id}),m(!1)},_=async()=>{d(!0);let{error:e}=await a.from("performer_profiles").upsert({performer_id:u.performer_id,company_name:u.company_name,description:u.description,price_per_hour:u.price_per_hour,work_examples:u.work_examples});e?(console.error("Error saving profile:",e),alert("Ошибка при сохранении")):alert("Профиль сохранен!"),d(!1)};return c?(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsx)("p",{children:"Загрузка..."})}):(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Профиль исполнителя"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Название компании (необязательно)"}),(0,t.jsx)("input",{type:"text",value:u.company_name,onChange:e=>x({...u,company_name:e.target.value}),className:"input",placeholder:"Название вашей компании"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Описание"}),(0,t.jsx)("textarea",{rows:6,value:u.description,onChange:e=>x({...u,description:e.target.value}),className:"textarea",placeholder:"Расскажите о себе и своих услугах"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Цена за час (€)"}),(0,t.jsx)("input",{type:"number",min:"0",step:"0.01",value:u.price_per_hour,onChange:e=>x({...u,price_per_hour:parseFloat(e.target.value)||0}),className:"input",placeholder:"40.00"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Примеры работ (URL изображений, по одному на строку)"}),(0,t.jsx)("textarea",{rows:4,value:u.work_examples.join("\n"),onChange:e=>x({...u,work_examples:e.target.value.split("\n").filter(e=>e)}),className:"textarea",placeholder:"https://example.com/image1.jpg https://example.com/image2.jpg"})]}),(0,t.jsxs)("button",{onClick:_,disabled:p,className:"btn-primary flex items-center gap-2",children:[(0,t.jsx)(n,{className:"w-5 h-5"}),p?"Сохранение...":"Сохранить профиль"]})]})]})})}},5109:(e,r,a)=>{Promise.resolve().then(a.bind(a,1956))},8525:(e,r,a)=>{"use strict";a.d(r,{U:()=>s});var t=a(5890);function s(){let e="https://rdlrzuyqbtxcszzcdtge.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJkbHJ6dXlxYnR4Y3N6emNkdGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1ODE5OTMsImV4cCI6MjA4MjE1Nzk5M30.xqYNOx2JD1vQrrEob6HYJlOm5w82oMi3Hv604QLgWGY";if(!e||!r)return console.error("Supabase environment variables not configured. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY"),(0,t.createBrowserClient)(e||"https://placeholder.supabase.co",r||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0");try{return(0,t.createBrowserClient)(e,r)}catch(e){return console.error("Error creating Supabase client:",e),(0,t.createBrowserClient)("https://placeholder.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0")}}}},e=>{e.O(0,[223,890,441,255,358],()=>e(e.s=5109)),_N_E=e.O()}]);