(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{1847:(e,r,s)=>{"use strict";s.d(r,{A:()=>c});var t=s(2115);let a=function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)((e,r)=>{let{color:s="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:n,className:o="",children:d,iconNode:m,...u}=e;return(0,t.createElement)("svg",{ref:r,...l,width:i,height:i,stroke:s,strokeWidth:n?24*Number(c)/Number(i):c,className:a("lucide",o),...u},[...m.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...Array.isArray(d)?d:[d]])}),c=(e,r)=>{let s=(0,t.forwardRef)((s,l)=>{let{className:c,...n}=s;return(0,t.createElement)(i,{ref:l,iconNode:r,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),c),...n})});return s.displayName="".concat(e),s}},3664:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(1847).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},8039:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>p});var t=s(5155),a=s(2115),l=s(5604),i=s(8525),c=s(63),n=s(2619),o=s.n(n),d=s(1847);let m=(0,d.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),u=(0,d.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var h=s(3664),x=s(9141);function p(){let e=(0,l.useTranslations)("common"),r=(0,l.useLocale)(),s=(0,c.useRouter)(),n=(0,i.U)(),[d,p]=(0,a.useState)(null),[N,y]=(0,a.useState)(!0);(0,a.useEffect)(()=>{f()},[]);let f=async()=>{let{data:{user:e}}=await n.auth.getUser();if(!e)return void s.push("/".concat(r,"/login"));let{data:t,error:a}=await n.from("profiles").select("*").eq("id",e.id).single();a?console.error("Error loading profile:",a):p(t),y(!1)},g=async()=>{await n.auth.signOut(),s.push("/".concat(r))};return N?(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsx)("p",{children:"Загрузка..."})}):d?(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:e("profile")}),(0,t.jsxs)("button",{onClick:g,className:"btn-outline flex items-center gap-2",children:[(0,t.jsx)(m,{className:"w-4 h-4"}),e("logout")]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:d.avatar_url?(0,t.jsx)("img",{src:d.avatar_url,alt:d.full_name,className:"w-24 h-24 rounded-full object-cover"}):(0,t.jsx)(u,{className:"w-12 h-12 text-gray-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:d.full_name||"Пользователь"}),(0,t.jsx)("p",{className:"text-gray-600",children:"performer"===d.role?"Исполнитель":"Заказчик"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(h.A,{className:"w-5 h-5 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-700",children:d.email})]}),d.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(x.A,{className:"w-5 h-5 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-700",children:d.phone})]})]}),"performer"===d.role&&(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(o(),{href:"/".concat(r,"/performer/profile"),className:"btn-primary",children:"Редактировать профиль исполнителя"})})]})]})}):null}},8525:(e,r,s)=>{"use strict";s.d(r,{U:()=>a});var t=s(5890);function a(){let e="https://rdlrzuyqbtxcszzcdtge.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJkbHJ6dXlxYnR4Y3N6emNkdGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1ODE5OTMsImV4cCI6MjA4MjE1Nzk5M30.xqYNOx2JD1vQrrEob6HYJlOm5w82oMi3Hv604QLgWGY";if(!e||!r)return console.error("Supabase environment variables not configured. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY"),(0,t.createBrowserClient)(e||"https://placeholder.supabase.co",r||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0");try{return(0,t.createBrowserClient)(e,r)}catch(e){return console.error("Error creating Supabase client:",e),(0,t.createBrowserClient)("https://placeholder.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0")}}},8847:(e,r,s)=>{Promise.resolve().then(s.bind(s,8039))},9141:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(1847).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])}},e=>{e.O(0,[223,890,619,441,255,358],()=>e(e.s=8847)),_N_E=e.O()}]);